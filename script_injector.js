const code =
    "//import {taxonomy_v2} from './taxonomy.js';\r\nconst taxonomy_v2 = {\r\n    1: '/Arts & Entertainment',\r\n    350: '/Arts & Entertainment/Celebrities & Entertainment News',\r\n    351: '/Arts & Entertainment/Comics & Animation',\r\n    352: '/Arts & Entertainment/Events & Listings',\r\n    353: '/Arts & Entertainment/Events & Listings/Bars, Clubs & Nightlife',\r\n    4: '/Arts & Entertainment/Events & Listings/Concerts & Music Festivals',\r\n    354: '/Arts & Entertainment/Events & Listings/Event Ticket Sales',\r\n    355: '/Arts & Entertainment/Events & Listings/Expos & Conventions',\r\n    356: '/Arts & Entertainment/Events & Listings/Film Festivals',\r\n    357: '/Arts & Entertainment/Events & Listings/Food & Beverage Events',\r\n    9: '/Arts & Entertainment/Events & Listings/Live Sporting Events',\r\n    12: '/Arts & Entertainment/Movies',\r\n    13: '/Arts & Entertainment/Movies/Action & Adventure Films',\r\n    15: '/Arts & Entertainment/Movies/Comedy Films',\r\n    18: '/Arts & Entertainment/Movies/Drama Films',\r\n    19: '/Arts & Entertainment/Movies/Family Films',\r\n    20: '/Arts & Entertainment/Movies/Horror Films',\r\n    21: '/Arts & Entertainment/Movies/Romance Films',\r\n    358: '/Arts & Entertainment/Movies/Science Fiction & Fantasy Films',\r\n    23: '/Arts & Entertainment/Music & Audio',\r\n    24: '/Arts & Entertainment/Music & Audio/Blues',\r\n    25: '/Arts & Entertainment/Music & Audio/Classical Music',\r\n    26: '/Arts & Entertainment/Music & Audio/Country Music',\r\n    27: '/Arts & Entertainment/Music & Audio/Dance & Electronic Music',\r\n    359: '/Arts & Entertainment/Music & Audio/DJ Resources & Equipment',\r\n    28: '/Arts & Entertainment/Music & Audio/Folk & Traditional Music',\r\n    29: '/Arts & Entertainment/Music & Audio/Jazz',\r\n    30: '/Arts & Entertainment/Music & Audio/Musical Instruments',\r\n    31: '/Arts & Entertainment/Music & Audio/Pop Music',\r\n    32: '/Arts & Entertainment/Music & Audio/Rap & Hip-Hop',\r\n    33: '/Arts & Entertainment/Music & Audio/Rock Music',\r\n    36: '/Arts & Entertainment/Music & Audio/Rock Music/Indie & Alternative Music',\r\n    360: '/Arts & Entertainment/Music & Audio/Rock Music/Metal (Music)',\r\n    361: '/Arts & Entertainment/Performing Arts',\r\n    362: '/Arts & Entertainment/Performing Arts/Broadway & Musical Theater',\r\n    363: '/Arts & Entertainment/TV & Video',\r\n    364: '/Arts & Entertainment/TV & Video/Live Video Streaming',\r\n    365: '/Arts & Entertainment/TV & Video/Movie & TV Streaming',\r\n    46: '/Arts & Entertainment/TV & Video/TV Comedies',\r\n    47: '/Arts & Entertainment/TV & Video/TV Documentary & Nonfiction',\r\n    48: '/Arts & Entertainment/TV & Video/TV Dramas',\r\n    50: '/Arts & Entertainment/TV & Video/TV Family-Oriented Shows',\r\n    366: '/Arts & Entertainment/TV & Video/TV Game Shows',\r\n    51: '/Arts & Entertainment/TV & Video/TV Reality Shows',\r\n    52: '/Arts & Entertainment/TV & Video/TV Sci-Fi & Fantasy Shows',\r\n    367: '/Arts & Entertainment/TV & Video/TV Talk Shows',\r\n    53: '/Arts & Entertainment/Visual Art & Design',\r\n    368: '/Arts & Entertainment/Visual Art & Design/Architecture',\r\n    56: '/Arts & Entertainment/Visual Art & Design/Photographic & Digital Arts',\r\n    57: '/Autos & Vehicles',\r\n    369: '/Autos & Vehicles/Bicycles & Accessories',\r\n    370: '/Autos & Vehicles/Boats & Watercraft',\r\n    371: '/Autos & Vehicles/Campers & RVs',\r\n    59: '/Autos & Vehicles/Classic Vehicles',\r\n    372: '/Autos & Vehicles/Commercial Vehicles',\r\n    60: '/Autos & Vehicles/Custom & Performance Vehicles',\r\n    62: '/Autos & Vehicles/Motor Vehicles (By Type)',\r\n    63: '/Autos & Vehicles/Motor Vehicles (By Type)/Autonomous Vehicles',\r\n    373: '/Autos & Vehicles/Motor Vehicles (By Type)/Compact Cars',\r\n    64: '/Autos & Vehicles/Motor Vehicles (By Type)/Convertibles',\r\n    65: '/Autos & Vehicles/Motor Vehicles (By Type)/Coupes',\r\n    374: '/Autos & Vehicles/Motor Vehicles (By Type)/Diesel Vehicles',\r\n    66: '/Autos & Vehicles/Motor Vehicles (By Type)/Hatchbacks',\r\n    67: '/Autos & Vehicles/Motor Vehicles (By Type)/Hybrid & Alternative Vehicles',\r\n    375: '/Autos & Vehicles/Motor Vehicles (By Type)/Hybrid & Alternative Vehicles/Electric & Plug-In Vehicles',\r\n    68: '/Autos & Vehicles/Motor Vehicles (By Type)/Luxury Vehicles',\r\n    69: '/Autos & Vehicles/Motor Vehicles (By Type)/Microcars & Subcompacts',\r\n    70: '/Autos & Vehicles/Motor Vehicles (By Type)/Motorcycles',\r\n    71: '/Autos & Vehicles/Motor Vehicles (By Type)/Off-Road Vehicles',\r\n    73: '/Autos & Vehicles/Motor Vehicles (By Type)/Scooters & Mopeds',\r\n    74: '/Autos & Vehicles/Motor Vehicles (By Type)/Sedans',\r\n    376: '/Autos & Vehicles/Motor Vehicles (By Type)/Sports Cars',\r\n    75: '/Autos & Vehicles/Motor Vehicles (By Type)/Station Wagons',\r\n    377: '/Autos & Vehicles/Motor Vehicles (By Type)/Trucks, Vans & SUVs',\r\n    72: '/Autos & Vehicles/Motor Vehicles (By Type)/Trucks, Vans & SUVs/Pickup Trucks',\r\n    76: '/Autos & Vehicles/Motor Vehicles (By Type)/Trucks, Vans & SUVs/SUVs & Crossovers',\r\n    78: '/Autos & Vehicles/Motor Vehicles (By Type)/Trucks, Vans & SUVs/Vans & Minivans',\r\n    81: '/Autos & Vehicles/Vehicle Parts & Accessories',\r\n    378: '/Autos & Vehicles/Vehicle Parts & Accessories/High Performance & Aftermarket Auto Parts',\r\n    379: '/Autos & Vehicles/Vehicle Parts & Accessories/Vehicle Wheels & Tires',\r\n    82: '/Autos & Vehicles/Vehicle Repair & Maintenance',\r\n    83: '/Autos & Vehicles/Vehicle Shopping',\r\n    84: '/Autos & Vehicles/Vehicle Shopping/Used Vehicles',\r\n    86: '/Beauty & Fitness',\r\n    380: '/Beauty & Fitness/Beauty Services & Spas',\r\n    381: '/Beauty & Fitness/Beauty Services & Spas/Manicures & Pedicures',\r\n    382: '/Beauty & Fitness/Cosmetology & Beauty Professionals',\r\n    88: '/Beauty & Fitness/Face & Body Care',\r\n    91: '/Beauty & Fitness/Face & Body Care/Clean Beauty',\r\n    383: '/Beauty & Fitness/Face & Body Care/Hygiene & Toiletries',\r\n    89: '/Beauty & Fitness/Face & Body Care/Hygiene & Toiletries/Antiperspirants, Deodorants & Body Sprays',\r\n    384: '/Beauty & Fitness/Face & Body Care/Hygiene & Toiletries/Feminine Hygiene Products',\r\n    92: '/Beauty & Fitness/Face & Body Care/Make-Up & Cosmetics',\r\n    94: '/Beauty & Fitness/Face & Body Care/Perfumes & Fragrances',\r\n    385: '/Beauty & Fitness/Face & Body Care/Skin & Nail Care',\r\n    90: '/Beauty & Fitness/Face & Body Care/Skin & Nail Care/Bath & Body Products',\r\n    386: '/Beauty & Fitness/Face & Body Care/Skin & Nail Care/Face Care Products',\r\n    93: '/Beauty & Fitness/Face & Body Care/Skin & Nail Care/Nail Care Products',\r\n    387: '/Beauty & Fitness/Face & Body Care/Sun Care & Tanning Products',\r\n    388: '/Beauty & Fitness/Face & Body Care/Unwanted Body & Facial Hair Removal',\r\n    95: '/Beauty & Fitness/Face & Body Care/Unwanted Body & Facial Hair Removal/Razors & Shavers',\r\n    96: '/Beauty & Fitness/Fashion & Style',\r\n    97: '/Beauty & Fitness/Fitness',\r\n    389: '/Beauty & Fitness/Fitness/Fitness Equipment & Accessories',\r\n    390: '/Beauty & Fitness/Fitness/Fitness Equipment & Accessories/Fitness Technology Products',\r\n    391: '/Beauty & Fitness/Fitness/Fitness Instruction & Personal Training',\r\n    392: '/Beauty & Fitness/Fitness/Gyms & Health Clubs',\r\n    393: '/Beauty & Fitness/Fitness/High Intensity Interval Training',\r\n    394: '/Beauty & Fitness/Fitness/Yoga & Pilates',\r\n    99: '/Beauty & Fitness/Hair Care',\r\n    395: '/Beauty & Fitness/Hair Care/Shampoos & Conditioners',\r\n    100: '/Books & Literature',\r\n    396: '/Books & Literature/Audiobooks',\r\n    397: '/Books & Literature/Book Retailers',\r\n    101: \"/Books & Literature/Children's Literature\",\r\n    398: '/Books & Literature/Fan Fiction',\r\n    399: '/Books & Literature/Literary Classics',\r\n    400: '/Books & Literature/Magazines',\r\n    102: '/Books & Literature/Poetry',\r\n    401: '/Books & Literature/Writers Resources',\r\n    103: '/Business & Industrial',\r\n    104: '/Business & Industrial/Advertising & Marketing',\r\n    402: '/Business & Industrial/Building Materials & Supplies',\r\n    403: '/Business & Industrial/Business Finance',\r\n    113: '/Business & Industrial/Business Finance/Commercial Lending',\r\n    404: '/Business & Industrial/Business Services',\r\n    405: '/Business & Industrial/Business Services/Corporate Events',\r\n    406: '/Business & Industrial/Business Services/Fire & Security Services',\r\n    407: '/Business & Industrial/Business Services/Merchant Services & Payment Systems',\r\n    408: '/Business & Industrial/Business Services/Office Supplies',\r\n    409: '/Business & Industrial/Business Services/Office Supplies/Office Furniture',\r\n    410: '/Business & Industrial/Business Services/Signage',\r\n    411: '/Business & Industrial/Construction Consulting & Contracting',\r\n    412: '/Business & Industrial/Document & Printing Services',\r\n    413: '/Business & Industrial/Event Planning',\r\n    414: '/Business & Industrial/Food Service',\r\n    415: '/Business & Industrial/Industrial Materials & Equipment',\r\n    416: '/Business & Industrial/Industrial Materials & Equipment/Work Safety Protective Gear',\r\n    417: '/Business & Industrial/Moving & Relocation',\r\n    418: '/Business & Industrial/Payroll Services',\r\n    419: '/Business & Industrial/Recruitment & Staffing',\r\n    126: '/Computers & Electronics',\r\n    420: '/Computers & Electronics/Computer Hardware',\r\n    421: '/Computers & Electronics/Computer Hardware/Computer Components',\r\n    422: '/Computers & Electronics/Computer Hardware/Computer Drives & Storage',\r\n    128: '/Computers & Electronics/Computer Hardware/Computer Peripherals',\r\n    134: '/Computers & Electronics/Computer Hardware/Desktop Computers',\r\n    135: '/Computers & Electronics/Computer Hardware/Laptops & Notebooks',\r\n    423: '/Computers & Electronics/Computer Security',\r\n    129: '/Computers & Electronics/Consumer Electronics',\r\n    424: '/Computers & Electronics/Consumer Electronics/Audio Equipment',\r\n    425: '/Computers & Electronics/Consumer Electronics/Audio Equipment/Headphones',\r\n    426: '/Computers & Electronics/Consumer Electronics/Audio Equipment/Speakers',\r\n    427: '/Computers & Electronics/Consumer Electronics/Audio Equipment/Stereo Systems & Components',\r\n    428: '/Computers & Electronics/Consumer Electronics/Camera & Photo Equipment',\r\n    429: '/Computers & Electronics/Consumer Electronics/Car Audio',\r\n    430: '/Computers & Electronics/Consumer Electronics/Gadgets & Portable Electronics',\r\n    431: '/Computers & Electronics/Consumer Electronics/Game Systems & Consoles',\r\n    432: '/Computers & Electronics/Consumer Electronics/Game Systems & Consoles/Handheld Game Consoles',\r\n    131: '/Computers & Electronics/Consumer Electronics/Home Automation',\r\n    132: '/Computers & Electronics/Consumer Electronics/Home Theater Systems',\r\n    433: '/Computers & Electronics/Consumer Electronics/Televisions',\r\n    434: '/Computers & Electronics/Electronics & Electrical',\r\n    435: '/Computers & Electronics/Electronics & Electrical/Power Supplies',\r\n    436: '/Computers & Electronics/Enterprise Technology',\r\n    137: '/Computers & Electronics/Networking',\r\n    437: '/Computers & Electronics/Networking/Network Monitoring & Management',\r\n    438: '/Computers & Electronics/Networking/Networking Equipment',\r\n    140: '/Computers & Electronics/Software',\r\n    439: '/Computers & Electronics/Software/Business & Productivity Software',\r\n    440: '/Computers & Electronics/Software/Business & Productivity Software/Accounting & Financial Software',\r\n    441: '/Computers & Electronics/Software/Business & Productivity Software/Collaboration & Conferencing Software',\r\n    442: '/Computers & Electronics/Software/Multimedia Software',\r\n    141: '/Computers & Electronics/Software/Multimedia Software/Audio & Music Software',\r\n    144: '/Computers & Electronics/Software/Multimedia Software/Graphics & Animation Software',\r\n    443: '/Computers & Electronics/Software/Multimedia Software/Photo & Video Software',\r\n    149: '/Finance',\r\n    150: '/Finance/Accounting & Auditing',\r\n    151: '/Finance/Accounting & Auditing/Tax Preparation & Planning',\r\n    444: '/Finance/Banking',\r\n    445: '/Finance/Banking/Debit & Checking Services',\r\n    446: '/Finance/Banking/Savings Accounts',\r\n    447: '/Finance/Credit & Lending',\r\n    448: '/Finance/Credit & Lending/Auto Financing',\r\n    152: '/Finance/Credit & Lending/Credit Cards',\r\n    449: '/Finance/Credit & Lending/Credit Reporting & Monitoring',\r\n    157: '/Finance/Credit & Lending/Home Financing',\r\n    170: '/Finance/Credit & Lending/Personal Loans',\r\n    171: '/Finance/Credit & Lending/Student Loans & College Financing',\r\n    153: '/Finance/Financial Planning & Management',\r\n    154: '/Finance/Financial Planning & Management/Retirement & Pension',\r\n    158: '/Finance/Insurance',\r\n    159: '/Finance/Insurance/Auto Insurance',\r\n    160: '/Finance/Insurance/Health Insurance',\r\n    161: '/Finance/Insurance/Home Insurance',\r\n    162: '/Finance/Insurance/Life Insurance',\r\n    163: '/Finance/Insurance/Travel Insurance',\r\n    164: '/Finance/Investing',\r\n    172: '/Food & Drink',\r\n    173: '/Food & Drink/Cooking & Recipes',\r\n    176: '/Food & Drink/Cooking & Recipes/Vegetarian Cuisine',\r\n    177: '/Food & Drink/Cooking & Recipes/Vegetarian Cuisine/Vegan Cuisine',\r\n    450: '/Food & Drink/Food',\r\n    451: '/Food & Drink/Food/Baked Goods',\r\n    452: '/Food & Drink/Food/Breakfast Foods',\r\n    453: '/Food & Drink/Food/Candy & Sweets',\r\n    454: '/Food & Drink/Food/Condiments & Dressings',\r\n    455: '/Food & Drink/Food/Dairy & Eggs',\r\n    456: '/Food & Drink/Food/Gourmet & Specialty Foods',\r\n    457: '/Food & Drink/Food/Meat & Seafood',\r\n    458: '/Food & Drink/Food/Meat & Seafood/Fish & Seafood',\r\n    459: '/Food & Drink/Food/Organic & Natural Foods',\r\n    460: '/Food & Drink/Grocery Delivery Services',\r\n    461: '/Food & Drink/Restaurant Delivery Services',\r\n    462: '/Food & Drink/Restaurants',\r\n    463: '/Food & Drink/Restaurants/Fast Food',\r\n    464: '/Food & Drink/Restaurants/Pizzerias',\r\n    180: '/Games',\r\n    465: '/Games/Board Games',\r\n    183: '/Games/Computer & Video Games',\r\n    184: '/Games/Computer & Video Games/Action & Platform Games',\r\n    185: '/Games/Computer & Video Games/Adventure Games',\r\n    186: '/Games/Computer & Video Games/Casual Games',\r\n    187: '/Games/Computer & Video Games/Competitive Video Gaming',\r\n    466: '/Games/Computer & Video Games/Driving & Racing Games',\r\n    467: '/Games/Computer & Video Games/Shooter Games',\r\n    191: '/Games/Computer & Video Games/Sports Games',\r\n    192: '/Games/Computer & Video Games/Strategy Games',\r\n    468: '/Games/Family-Oriented Games & Activities',\r\n    194: '/Games/Roleplaying Games',\r\n    196: '/Hobbies & Leisure',\r\n    469: '/Hobbies & Leisure/Art & Craft Supplies',\r\n    470: '/Hobbies & Leisure/Boating',\r\n    471: '/Hobbies & Leisure/Holidays & Seasonal Events',\r\n    201: '/Hobbies & Leisure/Outdoors',\r\n    202: '/Hobbies & Leisure/Outdoors/Fishing',\r\n    472: '/Hobbies & Leisure/Outdoors/Hiking & Camping',\r\n    207: '/Home & Garden',\r\n    473: '/Home & Garden/Bed & Bath',\r\n    474: '/Home & Garden/Bed & Bath/Bathroom',\r\n    475: '/Home & Garden/Bed & Bath/Bedroom',\r\n    476: '/Home & Garden/Bed & Bath/Bedroom/Bedding & Bed Linens',\r\n    477: '/Home & Garden/Bed & Bath/Bedroom/Beds & Headboards',\r\n    478: '/Home & Garden/Bed & Bath/Bedroom/Mattresses',\r\n    479: '/Home & Garden/Cleaning Services',\r\n    209: '/Home & Garden/Home & Interior Decor',\r\n    210: '/Home & Garden/Home Appliances',\r\n    480: '/Home & Garden/Home Appliances/Vacuums & Floor Care',\r\n    481: '/Home & Garden/Home Appliances/Water Filters & Purifiers',\r\n    482: '/Home & Garden/Home Furnishings',\r\n    483: '/Home & Garden/Home Furnishings/Countertops',\r\n    484: '/Home & Garden/Home Furnishings/Curtains & Window Treatments',\r\n    485: '/Home & Garden/Home Furnishings/Kitchen & Dining Furniture',\r\n    486: '/Home & Garden/Home Furnishings/Lamps & Lighting',\r\n    487: '/Home & Garden/Home Furnishings/Living Room Furniture',\r\n    488: '/Home & Garden/Home Furnishings/Living Room Furniture/Sofas & Armchairs',\r\n    489: '/Home & Garden/Home Furnishings/Outdoor Furniture',\r\n    490: '/Home & Garden/Home Furnishings/Rugs & Carpets',\r\n    211: '/Home & Garden/Home Improvement',\r\n    491: '/Home & Garden/Home Improvement/Construction & Power Tools',\r\n    492: '/Home & Garden/Home Improvement/Doors & Windows',\r\n    493: '/Home & Garden/Home Improvement/Flooring',\r\n    494: '/Home & Garden/Home Improvement/House Painting & Finishing',\r\n    495: '/Home & Garden/Home Improvement/Locks & Locksmiths',\r\n    496: '/Home & Garden/Home Improvement/Plumbing',\r\n    497: '/Home & Garden/Home Improvement/Roofing',\r\n    212: '/Home & Garden/Home Safety & Security',\r\n    498: '/Home & Garden/Home Storage & Shelving',\r\n    499: '/Home & Garden/Home Storage & Shelving/Cabinetry',\r\n    500: '/Home & Garden/Home Swimming Pools, Saunas & Spas',\r\n    213: '/Home & Garden/Household Supplies',\r\n    501: '/Home & Garden/Household Supplies/Household Batteries',\r\n    502: '/Home & Garden/Household Supplies/Household Cleaning Supplies',\r\n    503: '/Home & Garden/HVAC & Climate Control',\r\n    504: '/Home & Garden/HVAC & Climate Control/Air Conditioners',\r\n    505: '/Home & Garden/HVAC & Climate Control/Fireplaces & Stoves',\r\n    506: '/Home & Garden/HVAC & Climate Control/Household Fans',\r\n    507: '/Home & Garden/Kitchen & Dining',\r\n    508: '/Home & Garden/Kitchen & Dining/Cookware & Diningware',\r\n    509: '/Home & Garden/Kitchen & Dining/Cookware & Diningware/Cookware',\r\n    510: '/Home & Garden/Kitchen & Dining/Cookware & Diningware/Diningware',\r\n    511: '/Home & Garden/Kitchen & Dining/Dishwashers',\r\n    512: '/Home & Garden/Kitchen & Dining/Microwaves',\r\n    513: '/Home & Garden/Kitchen & Dining/Ranges, Cooktops & Ovens',\r\n    514: '/Home & Garden/Kitchen & Dining/Refrigerators & Freezers',\r\n    515: '/Home & Garden/Kitchen & Dining/Small Kitchen Appliances',\r\n    516: '/Home & Garden/Kitchen & Dining/Small Kitchen Appliances/Blenders & Juicers',\r\n    517: '/Home & Garden/Kitchen & Dining/Small Kitchen Appliances/Coffee & Espresso Makers',\r\n    518: '/Home & Garden/Kitchen & Dining/Small Kitchen Appliances/Food Mixers',\r\n    519: '/Home & Garden/Patio, Lawn & Garden',\r\n    520: '/Home & Garden/Patio, Lawn & Garden/Barbecues & Grills',\r\n    208: '/Home & Garden/Patio, Lawn & Garden/Gardening',\r\n    214: '/Home & Garden/Patio, Lawn & Garden/Landscape Design',\r\n    521: '/Home & Garden/Patio, Lawn & Garden/Yard Maintenance',\r\n    522: '/Home & Garden/Patio, Lawn & Garden/Yard Maintenance/Lawn Mowers',\r\n    523: '/Home & Garden/Pest Control',\r\n    524: '/Home & Garden/Washers & Dryers',\r\n    215: '/Internet & Telecom',\r\n    525: '/Internet & Telecom/Communications Equipment',\r\n    526: '/Internet & Telecom/Communications Equipment/Radio Equipment',\r\n    527: '/Internet & Telecom/Mobile & Wireless Accessories',\r\n    528: '/Internet & Telecom/Mobile Phones',\r\n    529: '/Internet & Telecom/Mobile Phones/Mobile Phone Repair & Services',\r\n    530: '/Internet & Telecom/Service Providers',\r\n    531: '/Internet & Telecom/Service Providers/Cable & Satellite Providers',\r\n    217: '/Internet & Telecom/Service Providers/ISPs',\r\n    218: '/Internet & Telecom/Service Providers/Phone Service Providers',\r\n    532: '/Internet & Telecom/Voice & Video Chat',\r\n    533: '/Internet & Telecom/Web Services',\r\n    534: '/Internet & Telecom/Web Services/Cloud Storage',\r\n    535: '/Internet & Telecom/Web Services/Search Engine Optimization & Marketing',\r\n    224: '/Internet & Telecom/Web Services/Web Design & Development',\r\n    536: '/Internet & Telecom/Web Services/Web Hosting & Domain Registration',\r\n    226: '/Jobs & Education',\r\n    227: '/Jobs & Education/Education',\r\n    537: '/Jobs & Education/Education/Business Education',\r\n    229: '/Jobs & Education/Education/Colleges & Universities',\r\n    538: '/Jobs & Education/Education/Computer Education',\r\n    230: '/Jobs & Education/Education/Distance Learning',\r\n    231: '/Jobs & Education/Education/Early Childhood Education',\r\n    277: '/Jobs & Education/Education/Foreign Language Study',\r\n    539: '/Jobs & Education/Education/Health Education & Medical Training',\r\n    233: '/Jobs & Education/Education/Homeschooling',\r\n    540: '/Jobs & Education/Education/Legal Education',\r\n    541: '/Jobs & Education/Education/Open Online Courses',\r\n    542: '/Jobs & Education/Education/Primary & Secondary Schooling (K-12)',\r\n    543: '/Jobs & Education/Education/Private Tutoring Services',\r\n    544: '/Jobs & Education/Education/School Supplies & Classroom Equipment',\r\n    234: '/Jobs & Education/Education/Standardized & Admissions Tests',\r\n    545: '/Jobs & Education/Education/Study Abroad',\r\n    546: '/Jobs & Education/Education/Visual Arts & Design Education',\r\n    547: '/Jobs & Education/Internships',\r\n    236: '/Jobs & Education/Jobs',\r\n    237: '/Jobs & Education/Jobs/Career Resources & Planning',\r\n    238: '/Jobs & Education/Jobs/Job Listings',\r\n    548: '/Jobs & Education/Jobs/Job Listings/Accounting & Finance Jobs',\r\n    549: '/Jobs & Education/Jobs/Job Listings/Clerical & Administrative Jobs',\r\n    550: '/Jobs & Education/Jobs/Job Listings/Education Jobs',\r\n    551: '/Jobs & Education/Jobs/Job Listings/Executive & Management Jobs',\r\n    552: '/Jobs & Education/Jobs/Job Listings/Government & Public Sector Jobs',\r\n    553: '/Jobs & Education/Jobs/Job Listings/Health & Medical Jobs',\r\n    554: '/Jobs & Education/Jobs/Job Listings/IT & Technical Jobs',\r\n    555: '/Jobs & Education/Jobs/Job Listings/Legal Jobs',\r\n    556: '/Jobs & Education/Jobs/Job Listings/Retail Jobs',\r\n    557: '/Jobs & Education/Jobs/Job Listings/Sales & Marketing Jobs',\r\n    558: '/Jobs & Education/Jobs/Job Listings/Temporary & Seasonal Jobs',\r\n    559: '/Jobs & Education/Jobs/Resumes & Portfolios',\r\n    239: '/Law & Government',\r\n    560: '/Law & Government/Labor & Employment Law',\r\n    242: '/Law & Government/Legal Services',\r\n    243: '/News',\r\n    561: '/News/Business News',\r\n    245: '/News/Local News',\r\n    247: '/News/Politics',\r\n    249: '/News/World News',\r\n    250: '/Online Communities',\r\n    253: '/Online Communities/Social Networks',\r\n    254: '/People & Society',\r\n    562: '/People & Society/Charity & Philanthropy',\r\n    258: '/People & Society/Parenting',\r\n    259: '/People & Society/Parenting/Adoption',\r\n    260: '/People & Society/Parenting/Babies & Toddlers',\r\n    563: '/People & Society/Parenting/Child Care',\r\n    263: '/Pets & Animals',\r\n    264: '/Pets & Animals/Pet Food & Pet Care Supplies',\r\n    265: '/Pets & Animals/Pets',\r\n    267: '/Pets & Animals/Pets/Cats',\r\n    268: '/Pets & Animals/Pets/Dogs',\r\n    272: '/Real Estate',\r\n    564: '/Real Estate/Property Development',\r\n    565: '/Real Estate/Real Estate Listings',\r\n    566: '/Real Estate/Real Estate Listings/Commercial Properties',\r\n    567: '/Real Estate/Real Estate Listings/Residential Rentals',\r\n    568: '/Real Estate/Real Estate Listings/Residential Rentals/Furnished Rentals',\r\n    569: '/Real Estate/Real Estate Listings/Residential Sales',\r\n    570: '/Real Estate/Real Estate Services',\r\n    571: '/Real Estate/Real Estate Services/Property Inspections & Appraisals',\r\n    289: '/Shopping',\r\n    572: '/Shopping/Apparel',\r\n    573: '/Shopping/Apparel/Apparel Services',\r\n    574: '/Shopping/Apparel/Athletic Apparel',\r\n    575: '/Shopping/Apparel/Casual Apparel',\r\n    576: '/Shopping/Apparel/Casual Apparel/T-Shirts',\r\n    291: \"/Shopping/Apparel/Children's Clothing\",\r\n    577: '/Shopping/Apparel/Clothing Accessories',\r\n    578: '/Shopping/Apparel/Clothing Accessories/Gems & Jewelry',\r\n    579: '/Shopping/Apparel/Clothing Accessories/Gems & Jewelry/Rings',\r\n    580: '/Shopping/Apparel/Clothing Accessories/Handbags & Purses',\r\n    581: '/Shopping/Apparel/Clothing Accessories/Socks & Hosiery',\r\n    582: '/Shopping/Apparel/Clothing Accessories/Watches',\r\n    294: '/Shopping/Apparel/Costumes',\r\n    583: '/Shopping/Apparel/Eyewear',\r\n    584: '/Shopping/Apparel/Eyewear/Sunglasses',\r\n    585: '/Shopping/Apparel/Footwear',\r\n    586: '/Shopping/Apparel/Footwear/Athletic Shoes',\r\n    587: '/Shopping/Apparel/Footwear/Boots',\r\n    588: '/Shopping/Apparel/Footwear/Casual Shoes',\r\n    589: '/Shopping/Apparel/Formal Wear',\r\n    590: '/Shopping/Apparel/Headwear',\r\n    296: \"/Shopping/Apparel/Men's Clothing\",\r\n    591: '/Shopping/Apparel/Outerwear',\r\n    592: '/Shopping/Apparel/Pants & Shorts',\r\n    593: '/Shopping/Apparel/Shirts & Tops',\r\n    594: '/Shopping/Apparel/Sleepwear',\r\n    595: '/Shopping/Apparel/Suits & Business Attire',\r\n    596: '/Shopping/Apparel/Swimwear',\r\n    597: '/Shopping/Apparel/Undergarments',\r\n    598: '/Shopping/Apparel/Uniforms & Workwear',\r\n    298: \"/Shopping/Apparel/Women's Clothing\",\r\n    599: \"/Shopping/Apparel/Women's Clothing/Dresses\",\r\n    600: \"/Shopping/Apparel/Women's Clothing/Skirts\",\r\n    293: '/Shopping/Coupons & Discount Offers',\r\n    601: '/Shopping/Gifts & Special Event Items',\r\n    295: '/Shopping/Gifts & Special Event Items/Flowers',\r\n    297: '/Shopping/Gifts & Special Event Items/Party & Holiday Supplies',\r\n    602: '/Shopping/Luxury Goods',\r\n    603: '/Shopping/Mass Merchants & Department Stores',\r\n    604: '/Shopping/Photo & Video Services',\r\n    605: '/Shopping/Photo & Video Services/Event & Studio Photography',\r\n    606: '/Shopping/Photo & Video Services/Photo Printing Services',\r\n    607: '/Shopping/Product Reviews & Price Comparisons',\r\n    608: '/Shopping/Toys',\r\n    299: '/Sports',\r\n    300: '/Sports/American Football',\r\n    301: '/Sports/Australian Football',\r\n    303: '/Sports/Baseball',\r\n    304: '/Sports/Basketball',\r\n    609: '/Sports/Combat Sports',\r\n    309: '/Sports/Cricket',\r\n    310: '/Sports/Cycling',\r\n    315: '/Sports/Golf',\r\n    317: '/Sports/Hockey',\r\n    610: '/Sports/Motor Sports',\r\n    321: '/Sports/Olympics',\r\n    322: '/Sports/Rugby',\r\n    323: '/Sports/Running & Walking',\r\n    325: '/Sports/Soccer',\r\n    611: '/Sports/Sporting Goods',\r\n    612: '/Sports/Sporting Goods/Baseball & Softball Equipment',\r\n    613: '/Sports/Sporting Goods/Golf Equipment',\r\n    614: '/Sports/Sporting Goods/Hockey Equipment',\r\n    615: '/Sports/Sporting Goods/Skateboarding Equipment',\r\n    616: '/Sports/Sporting Goods/Soccer Equipment',\r\n    617: '/Sports/Sporting Goods/Squash & Racquetball Equipment',\r\n    618: '/Sports/Sporting Goods/Water Sports Equipment',\r\n    619: '/Sports/Sporting Goods/Winter Sports Equipment',\r\n    328: '/Sports/Tennis',\r\n    620: '/Sports/Water Sports',\r\n    327: '/Sports/Water Sports/Swimming',\r\n    621: '/Sports/Winter Sports',\r\n    324: '/Sports/Winter Sports/Skiing & Snowboarding',\r\n    332: '/Travel & Transportation',\r\n    334: '/Travel & Transportation/Air Travel',\r\n    345: '/Travel & Transportation/Beaches & Islands',\r\n    335: '/Travel & Transportation/Business Travel',\r\n    336: '/Travel & Transportation/Car Rentals',\r\n    337: '/Travel & Transportation/Cruises & Charters',\r\n    338: '/Travel & Transportation/Family Travel',\r\n    340: '/Travel & Transportation/Hotels & Accommodations',\r\n    622: '/Travel & Transportation/Hotels & Accommodations/Vacation Rentals & Short-Term Stays',\r\n    341: '/Travel & Transportation/Long Distance Bus & Rail',\r\n    343: '/Travel & Transportation/Luggage & Travel Accessories',\r\n    623: '/Travel & Transportation/Luggage & Travel Accessories/Backpacks & Utility Bags',\r\n    624: '/Travel & Transportation/Luxury Travel',\r\n    625: '/Travel & Transportation/Mountain & Ski Resorts',\r\n    626: '/Travel & Transportation/Travel Agencies & Services',\r\n    627: '/Travel & Transportation/Travel Agencies & Services/Guided Tours & Escorted Vacations',\r\n    628: '/Travel & Transportation/Travel Agencies & Services/Sightseeing Tours',\r\n    629: '/Travel & Transportation/Travel Agencies & Services/Vacation Offers',\r\n};\r\n\r\n// operational mode of the extention:\r\n// SILENT: just record the api calls.\r\n// BLOCK: record the api calls and return no topic to the caller.\r\n// SCRAMBLE: record the api calls and return random topic from the taxonomy.\r\n\r\nlet MODE = 'SILENT';\r\nlet frameUrl = document.location.href;\r\nlet MAX_NUM_CALLS_TO_INTERCEPT = 1000;\r\nlet STACK_LINE_REGEXP = /(\\()?(http[^)]+):[0-9]+:[0-9]+(\\))?/;\r\nlet accessCounts = {}; // keep the access and call counts for each property and function\r\nlet ENABLE_CONSOLE_LOGS = true;\r\n\r\n// TODO: for now only chrome, get rid of the firefox check.\r\nconst getAncestor = function () {\r\n    let origins = location.ancestorOrigins;\r\n    if (!origins) {\r\n        origins = {length: 1};\r\n        try {\r\n            if (window.parent[0].top.document)\r\n                // Chrome & Firefox (same domain)\r\n                origins[0] = location.origin;\r\n        } catch (err) {\r\n            // Firefox (different domains CORS policy)\r\n            origins[0] = '*'; // force any domain\r\n        }\r\n    }\r\n    if (origins[origins.length - 1] == location.origin) {\r\n        // same domain\r\n        return undefined;\r\n    } else {\r\n        // different domains\r\n        return origins[origins.length - 1] ? origins[origins.length - 1] + '/' : undefined;\r\n    }\r\n};\r\n\r\n// Debug log\r\nconst console_log = function () {\r\n    if (ENABLE_CONSOLE_LOGS) {\r\n        console.log.apply(console, arguments);\r\n    }\r\n};\r\n\r\n// We throw an error and parses the resulting stack.\r\n// this is to figure out where the topicApi call has been\r\n// made.\r\nconst getSourceFromStack = function () {\r\n    const stack = new Error().stack.split('\\n');\r\n    stack.shift(); // remove our own intercepting functions from the stack\r\n    //console_log('stack: ', stack);\r\n    stack.shift();\r\n    const res = stack[1]?.match(STACK_LINE_REGEXP);\r\n    return res ? res[2] : 'UNKNOWN_SOURCE';\r\n};\r\n\r\n// We map the index to a readable topic.\r\nconst getTopics = function (response) {\r\n    return response.map(function (r) {\r\n        return taxonomy_v2[r.topic];\r\n    });\r\n};\r\n\r\n// Turns the arguments passed to the funtion into a readable state.\r\nconst getArgs = function (args) {\r\n    let res = [];\r\n    Object.keys(args).map(function (r) {\r\n        res.push(JSON.stringify(args[r]));\r\n    });\r\n    return res;\r\n};\r\n\r\n// Retrieve \"nTopics\" random topics to pass to the caller.\r\nconst getRandomTopics = function (nTopics) {\r\n    // TODO.\r\n};\r\n\r\n// Main intercept function.\r\n(function () {\r\n    const interceptFunctionCall = function (elementType, funcName) {\r\n        // save the original function using a closure\r\n        const origFunc = elementType.prototype[funcName];\r\n        // overwrite the object method with our own\r\n        Object.defineProperty(elementType.prototype, funcName, {\r\n            value: async function () {\r\n                const source = getSourceFromStack();\r\n                // execute the original function\r\n                const retVal = await origFunc.apply(this, arguments);\r\n                const calledFunc = `${elementType.name}.${funcName}`;\r\n                // check and enforce the limits\r\n                // increment the call countl init if needed\r\n                accessCounts[calledFunc] = (accessCounts[calledFunc] || 0) + 1;\r\n                const callCnt = accessCounts[calledFunc]; // just a shorthand\r\n                if (callCnt >= MAX_NUM_CALLS_TO_INTERCEPT) {\r\n                    console_log(`Reached max number of calls for ${calledFunc}: ${callCnt}`);\r\n                    // revert the function to its original state\r\n                    Object.defineProperty(elementType.prototype, funcName, {\r\n                        value: function () {\r\n                            return origFunc.apply(this, arguments);\r\n                        },\r\n                    });\r\n                    return retVal;\r\n                }\r\n\r\n                const callDetails = {\r\n                    args: getArgs(arguments),\r\n                    topics: getTopics(retVal),\r\n                    script: source,\r\n                    frame: frameUrl,\r\n                    website: getAncestor(),\r\n                    timestamp: Date.now(),\r\n                };\r\n\r\n                //console_log(callDetails);\r\n\r\n                let event = new CustomEvent('PassToBackground', {\r\n                    detail: JSON.stringify(callDetails),\r\n                });\r\n\r\n                window.dispatchEvent(event);\r\n\r\n                switch (MODE) {\r\n                    case 'BLOCK':\r\n                        return []; // TODO: check return type.\r\n                    case 'SCRAMBLE':\r\n                        return getRandomTopics(3);\r\n                    default:\r\n                        return retVal;\r\n                }\r\n            },\r\n        });\r\n    };\r\n\r\n    interceptFunctionCall(Document, 'browsingTopics');\r\n})();\r\n";

/**
 * It generates a nonce of a desired length.
 *
 * @param {number} length the length of the desired nonce.
 */
function generateNonce(length) {
    const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let result = '';

    for (let i = 0; i < length; i++) {
        const randomIndex = Math.floor(Math.random() * charset.length);
        result += charset.charAt(randomIndex);
    }

    return result;
}

/**
 * Executes a script in the page's JavaScript context.
 */
window.injectScript = function () {
    var parent = document.head || document.documentElement;
    // Create a Blob with the script code
    var blob = new Blob([code], {type: 'application/javascript'});

    // Create a URL for the Blob
    var blobUrl = URL.createObjectURL(blob);

    // Inject the script into the webpage
    var script = document.createElement('script');
    script.type = 'module';
    script.src = blobUrl;
    script.nonce = generateNonce(16);

    // Append the script to the document
    try {
        parent.insertBefore(script, parent.firstChild);
        parent.removeChild(script);
    } catch (error) {
        console.warn('failed to inject: ', error);
    }
};

// Run
window.injectScript();
